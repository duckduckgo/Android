const bel = require('bel')
const { isAndroid } = require('../../environment-check')

const generateMaterialDesignToggle = (isActiveBoolean, klass, dataKey) => {
    return bel`
    <button
        id="basic-switch"
        class="mdc-switch mdc-switch--${isActiveBoolean ? 'selected' : 'unselected'} ${klass}"
        data-key="${dataKey}"
        type="button"
        role="switch"
        aria-checked="false"
    >
        <div class="mdc-switch__track"></div>
        <div class="mdc-switch__handle-track">
            <div class="mdc-switch__handle">
            <div class="mdc-switch__shadow">
                <div class="mdc-elevation-overlay"></div>
            </div>
            <div class="mdc-switch__ripple"></div>
            </div>
        </div>
        <span class="mdc-switch__focus-ring-wrapper">
            <div class="mdc-switch__focus-ring"></div>
        </span>
    </button>
        `
}

module.exports = function (isActiveBoolean, klass, dataKey) {
    // make `klass` and `dataKey` optional:
    klass = klass || ''
    dataKey = dataKey || ''

    if (isAndroid()) {
        return generateMaterialDesignToggle(isActiveBoolean, klass, dataKey)
    }

    return bel`
<button class="toggle-button toggle-button--is-active-${isActiveBoolean} ${klass}"
    data-key="${dataKey}"
    type="button"
    aria-pressed="${isActiveBoolean ? 'true' : 'false'}"
    >
    <div class="toggle-button__bg">
    </div>
    <div class="toggle-button__knob"></div>
</button>`
}
