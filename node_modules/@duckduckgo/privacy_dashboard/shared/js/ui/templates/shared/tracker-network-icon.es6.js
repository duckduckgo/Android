const bel = require('bel')
const { isSiteWithOnlyOwnTrackers } = require('./utils.es6.js')

module.exports = function (site) {
    const { protectionsEnabled, totalTrackerNetworksCount } = site

    let iconNameModifier = 'blocked'

    if (!protectionsEnabled && (totalTrackerNetworksCount !== 0)) {
        iconNameModifier = 'warning'
    }

    if (isSiteWithOnlyOwnTrackers(site)) {
        iconNameModifier = 'mixed'
    }

    const iconName = 'major-networks-' + iconNameModifier

    return bel`${iconName}`
}
